#load RACKSPACE defaults
source "$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )/cluster_defaults.conf"

defaultProvider="rackspacephys"

clusterID="$(get_id_cluster "$(basename $BASH_SOURCE)")"
clusterName="rl-NVE-OnPrem-${clusterID}"
numberOfNodes="5" #starts at 0 (max 99) 0 is assigned to master
#Node config
#vmSize='io1-15'

dnsName="166.78.81.11"
userAloja="rack"

nodeNames="791333-MasterNode1 791344-DataNode1 791349-DataNode2 791350-DataNode3 791351-DataNode4 791352-DataNode5"

#nodeName="172.24.16.11 172.24.16.14 172.24.16.15 172.24.17.8 172.24.16.9 172.24.16.10"

useProxy="ssh -i ../secure/keys/id_rsa ${userAloja}@${dnsName} -p 22 nc %h %p 2>/dev/null"

#fileServerFullPathAloja="pristine@aloja-US.cloudapp.net:$homePrefixAloja/pristine/share/"


#queueJobs="true" #enable on cluster config to queue benchmarks after deploy

#details
vmCores="8"
vmRAM="128"

#costs
#clusterCostHour="999"
clusterType="OnPrem"
clusterDescription="Rackspace cluster with Intel NVMe SSD disks"

BENCH_SHARE_DIR=/home/rack/share
BENCH_LOCAL_DIR=/home/rack/aloja
#BENCH_FOLDER=


CLUSTER_DISKS="HDD HD2 HD3 HD4 HD5 HD6 HD7 HD8 HD9 HD10 RAM NVE HN10"

# Default disk
#[ ! "$DISK" ]         && DISK="SS2"

BENCH_DISKS["HDD"]="/grid/0/aloja"
BENCH_DISKS["HD1"]="/grid/0/aloja"
BENCH_DISKS["HD2"]="/grid/1/aloja"
BENCH_DISKS["HD3"]="/grid/2/aloja"
BENCH_DISKS["HD4"]="/grid/3/aloja"
BENCH_DISKS["HD5"]="/grid/4/aloja"
BENCH_DISKS["HD6"]="/grid/5/aloja"
BENCH_DISKS["HD7"]="/grid/6/aloja"
BENCH_DISKS["HD8"]="/grid/7/aloja"
BENCH_DISKS["HD9"]="/grid/8/aloja"
BENCH_DISKS["HD10"]="/grid/9/aloja"

BENCH_DISKS["RAM"]="/dev/shm/aloja"
BENCH_DISKS["NVE"]="/hadoop/cache/aloja"

BENCH_DISKS["HN1"]="${BENCH_DISKS["HD1"]}"
BENCH_DISKS["HN2"]="${BENCH_DISKS["HD2"]}"
BENCH_DISKS["HN3"]="${BENCH_DISKS["HD3"]}"
BENCH_DISKS["HN4"]="${BENCH_DISKS["HD4"]}"
BENCH_DISKS["HN5"]="${BENCH_DISKS["HD5"]}"
BENCH_DISKS["HN6"]="${BENCH_DISKS["HD6"]}"
BENCH_DISKS["HN7"]="${BENCH_DISKS["HD7"]}"
BENCH_DISKS["HN8"]="${BENCH_DISKS["HD8"]}"
BENCH_DISKS["HN9"]="${BENCH_DISKS["HD9"]}"
BENCH_DISKS["HN10"]="${BENCH_DISKS["HD10"]}"

#BENCH_DISKS["SR1"]="/hana/log/nicolas"
#BENCH_DISKS["SR2"]="/hana/data/nicolas"
#BENCH_DISKS["TMP_RAM"]="/dev/shm/aloja"


[ ! "$JAVA_XMS" ]           && JAVA_XMS="-Xms4069m" #START
[ ! "$JAVA_XMX" ]           && JAVA_XMX="-Xmx4096m" #MAX
[ ! "$JAVA_AM_XMS" ]        && JAVA_AM_XMS="-Xms4096m" #START
[ ! "$JAVA_AM_XMX" ]        && JAVA_AM_XMX="-Xmx4096m" #MAX

FIO_DIRS="/hadoop/cache"   # read and write

#FIO_DIRS_READ=....
#FIO_DIRS_WRITE=....


#JAVA_XMS="-Xms1024m"
#JAVA_XMX="-Xmx1536m"
